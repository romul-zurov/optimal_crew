состояние экипажа = CREWS.STATE !
класс хттп-запроса?
запрос времени и маршрута --> TCrew
запрос координат АП --> TCrewList
длина маршрута в список!
маршрут для "занятых" экипажей;
асинхронные запросы ??!;
два grid - списка : рабочие экипажи и просчитанные !;
статусы !;


общий алгоритм:

1. определить заказ ?!
2. получить gps-координаты для адреса подачи (АП);
3. найти рабочие экипажи, отсортировать их по расстоянию;
4. считать время проезда машин к АП, сортировать по времени, выводить на экран
	по мере просчёта;
	на экран выводить ID экипажа, код и время до АП;

необходимые функции:
- определение заказа (нового, текущего, как-то ещё)?
- выделение АП из заказа;
- определяем жпсК для АП;
- поиск рабочих экипажей:
	- список трек-точек за последние 30 минут (час, 10 минут?);
	- список экипажей трек-списка
	- список экипажей в состоянии "свободен" (1) и "занят" (3);
	- список текущих (свежайших) координат для рабочих экипажей;
	- расчёт расстояний рабочих экипажей до АП, список, сортировка;
	!на выходе имеем список рабочих экипажей, сортированных по расстоянию до АП;
- расчёт времени проезда экипажа до АП:
	- если свободен, то формируем маршрут "координата -- АП" и запрашиваем время;
	- если занят:
    	- определяем заказ, на котором экипаж занят;
        - составляем список точек остановок: начальной, промежуточных и конечной;
        - получаем жпс-координаты первой точки, смотрим трек - если был, то
        	переходим к следующей, если нет, формируем маршрут:
            	тек. коорд - точки останова - АП
                определяем время этого маршрута
                прибавляем по 10 минут на точки кроме высадки (3мин)
	- заносим в список экипаж, время подачи


- отброс эвакуаторов 														ok
- результирующий список фильтровать по времени подачи !;					ok
- разделить рабочий и результирующий список !;								ok
- запрос состояния экипажей - брать последнее !								ok
- РАСЧЁТ ВРЕМЕНИ МАРШРУТА ДО АП !;											ok
- СОРТИРОВКА СПИСКА ЭКИПАЖЕЙ ПО РАССТОЯНИЮ ДО АП И СОСТОЯНИЮ !;				ok
- ФУНКЦИЯ РАССТОЯНИЯ ЭКИПАЖА ДО АП !;										ok
- ФУНКЦИЯ - БЫЛА ЛИ МАШИНА В ЗАДАНОЙ ТОЧКЕ !;								ok
- ОТСОРТИРОВАТЬ КООРДИНАТЫ ПО ВРЕМЕНИ В CREW_LIST!							ok
- запрос даты сделать в формате YYYY-MM-DD !								ok

- replace dataset to ibquery;												OK
- добавить время к координатам экипажей, отсортировать по времени;			OK
- запрос работающих экипажей (1 и 3) ID, NAME, GPSID;						ok??
        	почему в таблице crews_coords есть экипажи, GpsId которых
            _отсутствует_ в таблице crews?
- функция, возращающая текущие (последние) кооринаты экипажа;
- запрос адресов заказов, выполнямых занятыми экипажами;					ok
- функция, прибавляющая время на остановки занятого экипажа по
		(не)посещённым адресам;
- функция, возвращающая GPS-координаты по адресу							ok
- функция, возвращающая время маршрута;
- функция расчёта расстояния (прямого) между 2 жпс-точками;					ok
